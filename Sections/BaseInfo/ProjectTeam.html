<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>项目组团</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="../../css/dataTables.bootstrap.css" rel="stylesheet">
    <link href="../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../css/style.min.css" rel="stylesheet">
    <script type="text/javascript" src="../../js/jquery.min.js"></script>
    <script type="text/javascript" src="../../js/jquery.serializejson.min.js"></script>

    <style>
        *{
            font-family:'Microsoft YaHei';
        }

    </style>
    <script>
        function Create(){
            $("#NewInstance input").val('');
            $("#NewInstance").show();
        }
    </script>
</head>
<body>
<div class="container-fluid-full">
    <div class="row-fluid">

        <div id="content" class="span10" style="min-height: 875px;width:100%;">


            <div class="row-fluid">
                <div class="box span12">
                    <h3 style="font-size: 25px;padding-bottom: 10px">项目组团</h3>
                    <div></div>
                    <div class="box-content">
                        <div id="DataTables_Table_0_wrapper" class="dataTables_wrapper" role="grid">
                            <div class="row-fluid">
                                <div class="span6">
                                    <div class="dataTables_filter" id="DataTables_Table_0_filter">
                                        <span>搜索: <input type="text" aria-controls="DataTables_Table_0">
                                        <a class="btn" href="#" style="transform: translateY(-5px);-webkit-transform: translateY(-5px);">
                                            确定
                                        </a>
                                        </span>
                                    </div>
                                </div>
                                <div class="span6">
                                    <div id="DataTables_Table_0_length" class="dataTables_length" style="float:right">
                                        <a class="btn" onclick="Create()">
                                            新增
                                        </a>
                                        <a class="btn" href="#" onclick="Delete()">
                                            删除
                                        </a>
                                        <a class="btn" href="#">
                                            导出
                                        </a>
                                    </div>
                                </div>

                            </div>
                            <table class="table table-striped table-bordered bootstrap-datatable datatable dataTable" id="DataTables_Table_0" aria-describedby="DataTables_Table_0_info">
                            <thead>
                            <tr role="row">
                                <th class="sorting"  rowspan="1" colspan="1" style="width: 60px;">
                                    <input type="checkbox" id="allcheck">全选
                                </th>
                                <th class="sorting"rowspan="1" colspan="1" style="">编码</th>
                                <th class="sorting"rowspan="1" colspan="1" style="">名称</th>
                                <th class="sorting"rowspan="1" colspan="1" style="">描述</th>
                            </thead>

                            <tbody role="alert" aria-live="polite" aria-relevant="all">
                            <tr class="odd">
                                <td class=" sorting_1">
                                    <input type="checkbox">
                                </td>
                                <td class=" sorting_1">Adam Alister</td>
                                <td class="center ">2012/01/21</td>
                                <td class="center ">Staff</td>
                            </tr>
                            </tbody>
                            </table>
                            <div class="row-fluid">
                                <div class="span12 center" style="margin-left: 0;text-align: center">
                                    <div class=" paging_bootstrap pagination">
                                        <ul>
                                            <li class="prev disabled"><a href="#">上一页</a></li>
                                            <li class="active">
                                                <a href="#">1</a></li>
                                            <li><a href="#">2</a></li>
                                            <li><a href="#">3</a></li>
                                            <li><a href="#">4</a></li>
                                            <li class="next"><a href="#">下一页 </a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div><!--/span-->

            </div>
        </div>
        <!-- end: Content -->

    </div><!--/fluid-row-->
</div>
<div  id="NewInstance" style="width:100%;height:100%;position:fixed;left:0;top:0;background-color: rgba(0,0,0,0.4);display:none;">
    <div class="row-fluid" style="width:550px;margin:100px auto;">
        <div class="box span12">
            <h3 style="background-color: white;margin:0;font-size: 20px;padding: 10px;padding-top: 40px;">新增产品类型信息</h3>
            <div class="box-content">
                <div id="errmsg" style="color:red;margin-left:180px;"></div>
                <form class="form-horizontal" id="form">
                    <fieldset>
                        <div class="control-group">
                            <label class="control-label"><span style="color:red">*</span>编码</label>
                            <div class="controls">
                                <input type="text" id="code" name="code" needcheck="true" checkname="编码">
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label"><span style="color:red">*</span>名称</label>
                            <div class="controls">
                                <input type="text" id="name" name="name" needcheck="true" checkname="名称">
                            </div>
                        </div>

                        <div class="control-group">
                            <label class="control-label">描述</label>
                            <div class="controls">
                                <input type="text" id="remark" name="remark">
                            </div>
                        </div>
                        <div class="form-actions">
                            <input type="button" id="submit" class="btn btn-primary" value="提交"/>
                            <button class="btn">取消</button>
                        </div>
                    </fieldset>
                </form>

            </div>
        </div><!--/span-->

    </div>
</div>
<script type="text/template"></script>
<script>
    $(function(){
//        $("input").focus(function(){
//            $("#errmsg").html();
//        })

        $("#allcheck").click(function(){
            var a=$(this).prop("checked");
            if(a){
                $("tbody [type=checkbox]").prop("checked","checked");
            }else{
                $("tbody [type=checkbox]").removeProp("checked");
            }
        })

        $('#submit').click(function() {
            $("#errmsg").html();
            var flag =true;
            var error;
            $("form input").each(function(){
                if(flag){
                    var needcheck=$(this).attr("needcheck");
                    if(needcheck=="true"){
                        var val=$(this).val();
                        if(!!!val){
                            error=$(this).attr("checkname")+"不能为空";
                            flag=false;
                        }
                    }
                }
            })
            if(!flag){
                $("#errmsg").html(error);
                return;
            }

            var data=$("form").serializeJSON()
        });
    })

    function Delete(){
        var eles=$("tbody [type=checkbox]:checked");
        if(eles.length<=0){
            alert("请先勾选");
            return;
        }
        eles.each(function(){
            $(this).parents("tr").remove();
        })
    }
var list=[];

    function ChangeAlert(id){
        var json=list.filter(function (e) { return e.id == id; });

        for(var key in json){
            $("[name="+key+"]").val(json[key]);
            $("#NewInstance").show();
        }
    }

//    $.alert=function(){
//        var html="<div style='position: fixed;z-index:10;width:100%;top:0;bottom:0;background-color: rgba(0,0,0,0.4)' id='AlertDiv'>" +
//            "<div style='width:'></div></div>"
//    }

</script>
</body>
</html>